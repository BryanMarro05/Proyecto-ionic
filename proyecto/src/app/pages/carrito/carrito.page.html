<ion-header>
  <ion-toolbar color="danger">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>

    <ion-title>Carrito de Compra</ion-title>

    <ion-buttons slot="end">
      <ion-button (click)="clearCart()" color="light" size="small">
        <ion-icon name="trash-outline" slot="start"></ion-icon>
        Limpiar
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <!-- CARRITO VACÍO -->
  <div *ngIf="cartItems.length === 0" class="empty-cart">
    <ion-icon name="cart-outline" class="empty-icon"></ion-icon>
    <p class="empty-text">Tu carrito está vacío</p>
    <ion-button routerLink="/menu" color="danger" expand="block" class="btn-rounded">
      Ver Menú
    </ion-button>
  </div>

  <!-- LISTA DEL CARRITO -->
  <ion-card *ngIf="cartItems.length > 0" class="cart-card">
    <ion-list>
      <ion-item *ngFor="let item of cartItems; let i = index" lines="none">
        <ion-label>
          <h2 class="item-title">{{ item.name }}</h2>
          <p class="item-price">${{ item.price.toFixed(2) }}</p>
        </ion-label>

        <ion-button fill="clear" color="danger" (click)="removeItem(i)">
          <ion-icon name="close-circle-outline"></ion-icon>
        </ion-button>
      </ion-item>
    </ion-list>
  </ion-card>

  <!-- TOTAL -->
  <div *ngIf="cartItems.length > 0" class="total-section">
    <h3>Total: ${{ getTotal().toFixed(2) }}</h3>

    <ion-button expand="block" color="success" class="btn-rounded" (click)="checkout()">
      Finalizar Pedido
      <ion-icon name="checkmark-circle-outline" slot="end"></ion-icon>
    </ion-button>
  </div>

</ion-content>
